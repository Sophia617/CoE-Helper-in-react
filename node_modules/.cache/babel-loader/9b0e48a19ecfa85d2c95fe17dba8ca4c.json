{"ast":null,"code":"import _toConsumableArray from\"/Users/eunyeong/Desktop/React Project/CoE_Helper/CoE_Helper/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/eunyeong/Desktop/React Project/CoE_Helper/CoE_Helper/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Container from\"react-bootstrap/Container\";import jsonData from\"../../data/coursesWithCRICOS\";import Wrapper from\"./CRICOSFinder.styles\";import Search from\"./Search\";import CourseList from\"./CourseList\";import PaginationComp from\"../ReusableComponents/PaginationComp\";var CRICOSFinder=function CRICOSFinder(){// Lists of courses from json file\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),courses=_useState2[0],setCourses=_useState2[1];// To save user's input query\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),query=_useState4[0],setQuery=_useState4[1];// List of courses matching with user query\nvar _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),searchResult=_useState6[0],setSearchResult=_useState6[1];// shows CourseList component only when searching is true\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),searching=_useState8[0],setSearching=_useState8[1];// Pagination\nvar _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),currentPage=_useState10[0],setCurrentPage=_useState10[1];var _useState11=useState(7),_useState12=_slicedToArray(_useState11,1),coursesPerPage=_useState12[0];useEffect(function(){setCourses(_toConsumableArray(jsonData));},[]);useEffect(function(){searchResultHandler();},[query]);/***************************\n   *  Handling UserInput\n   * ************************/var userInputHandler=function userInputHandler(userInput){setQuery(userInput);userInput===\"\"?setSearching(false):setSearching(true);};var searchResultHandler=function searchResultHandler(){var filterQuery=query.toLowerCase();var searchResultList=courses.filter(function(course){if(course.name.toLowerCase().indexOf(filterQuery)>-1){return course;}if(course.code.toLowerCase().indexOf(filterQuery)>-1){return course;}});setSearchResult(_toConsumableArray(searchResultList));};/***************************\n   *  Handling Pagination\n   * ************************/var indexOfLastItem=currentPage*coursesPerPage;var indexOfFirstItem=indexOfLastItem-coursesPerPage;var currentSearchedCourses=searchResult.slice(indexOfFirstItem,indexOfLastItem);var paginate=function paginate(pageNumber){setCurrentPage(pageNumber);};return/*#__PURE__*/React.createElement(Wrapper,{id:\"cricosFinder\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"h1\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-search\"}),\" CRICOS Finder\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Search,{userInputHandler:userInputHandler,query:query}),searching&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CourseList,{searchResult:currentSearchedCourses}),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(PaginationComp,{itemsPerPage:coursesPerPage,searchResult:searchResult.length,paginate:paginate}))));};export default CRICOSFinder;","map":{"version":3,"sources":["/Users/eunyeong/Desktop/React Project/CoE_Helper/CoE_Helper/src/components/CRICOSFinder/CRICOSFinder.js"],"names":["React","useState","useEffect","Container","jsonData","Wrapper","Search","CourseList","PaginationComp","CRICOSFinder","courses","setCourses","query","setQuery","searchResult","setSearchResult","searching","setSearching","currentPage","setCurrentPage","coursesPerPage","searchResultHandler","userInputHandler","userInput","filterQuery","toLowerCase","searchResultList","filter","course","name","indexOf","code","indexOfLastItem","indexOfFirstItem","currentSearchedCourses","slice","paginate","pageNumber","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport jsonData from \"../../data/coursesWithCRICOS\";\nimport Wrapper from \"./CRICOSFinder.styles\";\nimport Search from \"./Search\";\nimport CourseList from \"./CourseList\";\nimport PaginationComp from \"../ReusableComponents/PaginationComp\";\n\nconst CRICOSFinder = () => {\n  // Lists of courses from json file\n  const [courses, setCourses] = useState([]);\n  // To save user's input query\n  const [query, setQuery] = useState(\"\");\n  // List of courses matching with user query\n  const [searchResult, setSearchResult] = useState([]);\n  // shows CourseList component only when searching is true\n  const [searching, setSearching] = useState(false);\n  // Pagination\n  const [currentPage, setCurrentPage] = useState(1);\n  const [coursesPerPage] = useState(7);\n\n  useEffect(() => {\n    setCourses([...jsonData]);\n  }, []);\n\n  useEffect(() => {\n    searchResultHandler();\n  }, [query]);\n\n  /***************************\n   *  Handling UserInput\n   * ************************/\n\n  const userInputHandler = (userInput) => {\n    setQuery(userInput);\n    userInput === \"\" ? setSearching(false) : setSearching(true);\n  };\n\n  const searchResultHandler = () => {\n    let filterQuery = query.toLowerCase();\n    const searchResultList = courses.filter((course) => {\n      if (course.name.toLowerCase().indexOf(filterQuery) > -1) {\n        return course;\n      }\n      if (course.code.toLowerCase().indexOf(filterQuery) > -1) {\n        return course;\n      }\n    });\n    setSearchResult([...searchResultList]);\n  };\n\n  /***************************\n   *  Handling Pagination\n   * ************************/\n\n  const indexOfLastItem = currentPage * coursesPerPage;\n  const indexOfFirstItem = indexOfLastItem - coursesPerPage;\n  const currentSearchedCourses = searchResult.slice(\n    indexOfFirstItem,\n    indexOfLastItem\n  );\n\n  const paginate = (pageNumber) => {\n    setCurrentPage(pageNumber);\n  };\n\n  return (\n    <Wrapper id=\"cricosFinder\">\n      <Container>\n        <h1>\n          <i className=\"fas fa-search\"></i> CRICOS Finder\n        </h1>\n        <br />\n        <Search userInputHandler={userInputHandler} query={query} />\n        {searching && (\n          <>\n            <CourseList searchResult={currentSearchedCourses} /> <br />\n            <PaginationComp\n              itemsPerPage={coursesPerPage}\n              searchResult={searchResult.length}\n              paginate={paginate}\n            />\n          </>\n        )}\n      </Container>\n    </Wrapper>\n  );\n};\nexport default CRICOSFinder;\n"]},"metadata":{},"sourceType":"module"}